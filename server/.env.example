# ===========================================
# Among Us On-Chain - Server Environment
# ===========================================

# ===========================================
# Server Configuration
# ===========================================

# Single-port mode (Render, Railway, etc.)
# When PORT is set, HTTP API + WebSocket share this single port.
# When PORT is NOT set, they run on separate ports (API_PORT + WS_PORT).
# PORT=10000

# WebSocket server port (local dev only, ignored when PORT is set)
WS_PORT=8082

# REST API server port (local dev only, ignored when PORT is set)
API_PORT=8080


# WebSocket host binding
WS_HOST=0.0.0.0

# WebSocket URL (used by simulation scripts)
WS_URL=ws://localhost:8082

# ===========================================
# Logging
# ===========================================

# Log level: trace | debug | info | warn | error | fatal
LOG_LEVEL=info

# ===========================================
# Database Configuration
# ===========================================

# PostgreSQL connection URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/amongus_onchain

# ===========================================
# Privy Configuration (Required for Wallets)
# ===========================================
# Get these from https://dashboard.privy.io

# Your Privy App ID
PRIVY_APP_ID=your-privy-app-id-here

# Your Privy App Secret (keep this secret!)
PRIVY_APP_SECRET=your-privy-app-secret-here

# Privy Wallet Authorization Key ID (for server-side wallet signing)
# Create this in Privy Dashboard > Embedded Wallets > Authorization Keys
PRIVY_WALLET_AUTHORIZATION_KEY_ID=your-auth-key-id-here

# Privy Wallet Authorization Private Key (keep this secret!)
# This is the private key corresponding to the authorization key above
PRIVY_WALLET_AUTHORIZATION_KEY=your-auth-private-key-here

# ===========================================
# Blockchain Configuration
# ===========================================

# Network mode: 'testnet' or 'mainnet'
# Determines which network to query for on-chain data (balances, wagers, etc.)
NETWORK_MODE=testnet

# Testnet RPC URL (for development and testing)
TESTNET_RPC_URL=https://testnet-rpc.monad.xyz

# Mainnet RPC URL (for production)
MAINNET_RPC_URL=https://mainnet-rpc.monad.xyz

# Legacy: Monad RPC URL (deprecated, use TESTNET_RPC_URL or MAINNET_RPC_URL)
# MONAD_RPC_URL will be ignored if NETWORK_MODE is set
MONAD_RPC_URL=https://testnet-rpc.monad.xyz

# Chain ID (Monad Testnet = 10143)
CHAIN_ID=10143

# ===========================================
# Smart Contract Addresses (Required for On-Chain Mode)
# ===========================================
# Deploy contracts and set these addresses to enable on-chain settlement.
# If not set, server runs in off-chain mode (wagers tracked in memory only).

# WagerVault contract — handles deposits and wager escrow
WAGER_VAULT_ADDRESS=0x...

# AgentRegistry contract — tracks agent stats on-chain
AGENT_REGISTRY_ADDRESS=0x...

# GameSettlement contract — orchestrates game creation and settlement
GAME_SETTLEMENT_ADDRESS=0x...

# Monad token contract (ERC20 for wagers)
MONAD_TOKEN_ADDRESS=0x...

# Operator private key (for signing settlement transactions)
# WARNING: Keep this secret! Never commit to git!
OPERATOR_PRIVATE_KEY=0x...
